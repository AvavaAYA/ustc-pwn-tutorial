
>   ROP，即 return oriented programming（返回导向编程），关键在于劫持程序控制流后，利用程序中已有的小片段 (gadgets) 来改变某些寄存器或者变量的值，从而控制程序的执行流程。

## 控制流劫持

>   在二进制安全中，大部分的漏洞利用方式是劫持控制流，接着使程序按照攻击者的攻击思路运行下去。控制流劫持是一种危害性极大的攻击方式，攻击者能够通过它来获取目标机器的控制权，甚至进行提权操作，对目标机器进行全面控制。当攻击者掌握了被攻击程序的内存错误漏洞后，一般会考虑发起控制流劫持攻击。
>
>   控制流的劫持意味着攻击者劫持了 PC（program counter）寄存器，从存在漏洞的程序到控制流劫持也是 pwn 的重点，实现这一目标的方法有很多，但总是离不开跳转（包括函数返回、函数指针的调用等）。

先来看一个简单的例子，这也是本章真正意义上的第一道 pwn 题：
